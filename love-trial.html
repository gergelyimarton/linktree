<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Trial — Statikus értékelő</title>
  <style>
    body{margin:0;font-family:Arial, sans-serif;background:#f7f9fc;color:#222;padding:20px;line-height:1.5}
    h1,h2,h3{margin-top:1.4em}
    table{border-collapse:collapse;width:100%;margin-bottom:24px}
    th,td{border:1px solid #ccc;padding:6px 10px;text-align:left}
    th{background:#eee}
    select{width:100%;padding:4px}
    .btn{display:inline-block;padding:10px 14px;border-radius:6px;background:#007bff;color:#fff;text-decoration:none;cursor:pointer;border:none;font-weight:bold;margin:4px}
    .btn:hover{background:#0056b3}
    footer{margin-top:20px;font-size:13px;color:#555}
  </style>
</head>
<body>
  <h1>Love Trial — Értékelő</h1>

  <h2>Fő aspektusok</h2>
  <table id="mainAspects">
    <thead>
      <tr><th>Fő aspektus</th><th>Casual hessz</th><th>Háztartási ismeretek</th><th>Kreatív önmegvalósítás</th><th>Fizikai próba</th><th>Mentális próba</th><th>Pontszám</th></tr>
    </thead>
    <tbody>
      <tr><td>🌿 Spontaneitás</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>🧠 Intelligencia / Kreativitás</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>🤝 Együttműködés</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>🧘‍♀️ Komfortzóna rugalmassága</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>🔥 Kitartás / Stresszkezelés</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>💡 Önreflexió</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>💬 Érzelmi intelligencia / Spiritualitás</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
      <tr><td>😊 Hangulatom</td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td><td><select></select></td></tr>
    </tbody>
  </table>

  <h2>Fontos aspektusok</h2>
  <table id="importantAspects">
    <thead>
      <tr><th>Aspektus</th><th>Összesített pont</th></tr>
    </thead>
    <tbody>
      <tr><td>🎭 Humor</td><td><select></select></td></tr>
      <tr><td>🧲 Fizikai vonzalom</td><td><select></select></td></tr>
      <tr><td>🧩 Kapcsolódási könnyedség</td><td><select></select></td></tr>
      <tr><td>👕 Öltözködés</td><td><select></select></td></tr>
      <tr><td>🎧 Zenei ízlés</td><td><select></select></td></tr>
      <tr><td>🧼 Higiénia</td><td><select></select></td></tr>
      <tr><td>🫦 Szexualitás</td><td><select></select></td></tr>
      <tr><td>🌈 Sokszínűség</td><td><select></select></td></tr>
    </tbody>
  </table>

  <h2>Egyéb tulajdonságok</h2>
  <table id="otherProps">
    <thead><tr><th>Tulajdonság</th><th>Pont</th></tr></thead>
    <tbody>
      <tr><td>Ambíciózusság / Szenvedélyesség</td><td><select></select></td></tr>
      <tr><td>Autentikusság</td><td><select></select></td></tr>
      <tr><td>Bátorság</td><td><select></select></td></tr>
      <tr><td>Bölcsesség</td><td><select></select></td></tr>
      <tr><td>Család-központúság</td><td><select></select></td></tr>
      <tr><td>Energikusság</td><td><select></select></td></tr>
      <tr><td>Kalandvágyás / Kihíváskedvelés</td><td><select></select></td></tr>
      <tr><td>Kedvesség / Szelídség</td><td><select></select></td></tr>
      <tr><td>Nyugodtság</td><td><select></select></td></tr>
      <tr><td>Önállóság</td><td><select></select></td></tr>
      <tr><td>Őszinteség / Hűségesség</td><td><select></select></td></tr>
      <tr><td>Szerénység</td><td><select></select></td></tr>
      <tr><td>Udvariasság</td><td><select></select></td></tr>
    </tbody>
  </table>

  <h2>Összegzés</h2>
  <table id="summary">
    <tbody>
      <tr><td>Értékelt mezők száma</td><td>48 db</td></tr>
      <tr><td>Max pontszám</td><td>240 pont</td></tr>
      <tr><td>Elért pontszám</td><td>0 pont</td></tr>
      <tr><td>Illeszkedési arány</td><td>0,00%</td></tr>
    </tbody>
  </table>

  <h2>Értelmezés</h2>
  <table>
    <tbody>
      <tr><td>90–100%</td><td>🟩 Kivételes illeszkedés</td></tr>
      <tr><td>70–89%</td><td>🟦 Erős kompatibilitás</td></tr>
      <tr><td>40–69%</td><td>🟨 Részleges kompatibilitás</td></tr>
      <tr><td>20–39%</td><td>🟧 Figyelmeztető zóna</td></tr>
      <tr><td>0–19%</td><td>🟥 Alacsony illeszkedés</td></tr>
    </tbody>
  </table>

  <button class="btn" onclick="downloadJSON()">Eredmény letöltése (JSON)</button>
  <input type="file" id="jsonUpload" accept="application/json" class="btn" />

  <footer>
    Ez egy statikus HTML oldal. Az adatok lenyíló listákból választhatók. A letöltött JSON tartalmazza az aktuális állapotot, amit később vissza lehet tölteni.
  </footer>

<script>
function fillSelects(){
  document.querySelectorAll('select').forEach(sel=>{
    sel.innerHTML = '<option value="">-</option>' + 
      [0,1,2,3,4,5].map(n=>`<option value="${n}">${n}</option>`).join('');
  });
}

fillSelects();

function tableToArray(tableId){
  const rows = document.querySelectorAll(`#${tableId} tbody tr`);
  return Array.from(rows).map(r=> Array.from(r.querySelectorAll('td')).map(td=>{
    const sel = td.querySelector('select');
    return sel ? sel.value : td.innerText.trim();
  }));
}

function downloadJSON(){
  const data = {
    mainAspects: tableToArray('mainAspects'),
    importantAspects: tableToArray('importantAspects'),
    otherProps: tableToArray('otherProps')
  };
  const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href=url; a.download='love-trial.json'; a.click();
  URL.revokeObjectURL(url);
}

document.getElementById('jsonUpload').addEventListener('change', function(){
  const file = this.files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    try{
      const data = JSON.parse(e.target.result);
      function fillTable(tableId, arr){
        const rows = document.querySelectorAll(`#${tableId} tbody tr`);
        arr.forEach((row,i)=>{
          if(rows[i]){
            const cells = rows[i].querySelectorAll('td');
            row.forEach((val,j)=>{
              if(cells[j]){
                const sel = cells[j].querySelector('select');
                if(sel){ sel.value = val; } else { cells[j].innerText = val; }
              }
            });
          }
        });
      }
      fillTable('mainAspects', data.mainAspects||[]);
      fillTable('importantAspects', data.importantAspects||[]);
      fillTable('otherProps', data.otherProps||[]);
    }catch(err){
      alert('Hibás JSON fájl.');
    }
  };
  reader.readAsText(file);
});
</script>

</body>
</html>
