<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weekly Workout Plan</title>
  <link rel="stylesheet" href="CSS/style.css">

  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #f0f4f7 0%, #e2ecf3 100%);
      color: #222;
      margin: 0;
      padding: 20px;
    }
  
    h1 {
      text-align: center;
      margin: 25px 0;
      font-size: clamp(1.8rem, 5vw, 3rem);
      font-weight: 700;
      color: #2e7d32;
      letter-spacing: 1px;
      text-transform: uppercase;
    }



    #plan {
      max-width: 1100px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px; /* kártyák közti távolság */
      padding: 10px;
    }

    .day {
      background: #ffffff;
      border-radius: 16px;
      padding: 20px 25px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      border-left: 6px solid #4caf50;
      transition: transform 0.2s ease;
    } 
    
  
    .day h2 {
      font-size: 1.4rem;
      margin-bottom: 12px;
      color: #1b5e20;
      font-weight: 600;
    }
  
    .muscle {
      font-weight: 700;
      margin-top: 10px;
      color: #388e3c;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  
    ul {
      margin: 6px 0 18px 25px;
      padding: 0;
    }
    ul li {
      margin-bottom: 6px;
    }
  
    .btn,
    .back-button {
      display: inline-block;
      margin: 20px auto;
      padding: 14px 28px;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      border-radius: 30px;
      background: #4caf50;
      /* color: #fff; */
      cursor: pointer;
      text-align: center;
      transition: background 0.2s, transform 0.1s;

      
    }

    .back-button{
     
      margin: 0%;
      padding: 10px 20px;
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #ffffff59;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255,255,255,0.125);
      color: #000000;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      z-index: 1000;
    }
  
    .btn:hover {
      background: #43a047;
      transform: scale(1.02);
    }
  
    .back-button:hover {
      background: #43a047;
      transform: scale(1.02);
    }
  
    /* Kisebb kijelző */
    @media (max-width: 1000px) {
      body { padding: 12px; }
      .day { padding: 15px 18px; }
      .day h2 { font-size: 1.15rem; }
      .muscle { font-size: 0.95rem; }
      ul li { font-size: 0.9rem; }
      #plan { max-width: 1100px; margin: 0 auto; display: flex; flex-direction: column;}
      .day { background: #ffffff; border-radius: 16px; padding: 20px 25px; margin-bottom: 25px; box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1); border-left: 6px solid #4caf50; transition: transform 0.2s ease; }
      .back-button { position: static; }
    }
  </style>
  
</head>
<body>
    <h1>Weekly Workout Plan</h1>
    <div id="plan"></div>

    <button onclick="generatePlan()" class="btn">Generate New Plan</button>
    
    <!-- ÚJ: TXT gomb -->
    <button onclick="downloadTXT()" class="btn">Download as TXT</button>

    <a href="projects.html">
      <button class="back-button">Go back</button>
    </a>



    <!-- html2pdf könyvtár betöltése -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <script>
        const exercises = {
          "Chest": ["Pushups","Pseudo pushups","Diamond pushups","Dips","Decline pushups","Pike pushups","Archer pushups"],
          "Legs": ["Weighted squats","Bulgarian squats","Attack steps","Step ups","Squat hold","Calf push"],
          "Back": ["Pull ups","Chin ups","Standing rows","Sitting rows","Torso raises / deadlifts"],
          "Abs": ["Decline sit ups","Leg raises","Knee tucks","Cable crunches","Mountain climb"],
          "Arms": ["Bicep curls / chin ups","Cable pull downs (triceps)","Lateral raises","Overhead / military presses","Arnold presses"],
          "Extras": ["Farmer walk","Rope climbing"]
        };

        const schedule = {
          "Day 1": ["Chest", "Arms", "Abs"],
          "Day 2": ["Legs", "Abs"],
          "Day 3": ["Back", "Abs"]
        };

        function getRandomMoves(moves, count = 4) {
          if (moves.length <= count) return [...moves];
          const shuffled = [...moves].sort(() => 0.5 - Math.random());
          return shuffled.slice(0, count);
        }

        function generatePlan() {
          const planDiv = document.getElementById("plan");
          planDiv.innerHTML = "";

          for (const [day, groups] of Object.entries(schedule)) {
            const dayDiv = document.createElement("div");
            dayDiv.className = "day";
            const dayTitle = document.createElement("h2");
            dayTitle.textContent = day;
            dayDiv.appendChild(dayTitle);

            groups.forEach(muscle => {
              const muscleTitle = document.createElement("div");
              muscleTitle.className = "muscle";
              muscleTitle.textContent = muscle;
              dayDiv.appendChild(muscleTitle);

              const list = document.createElement("ul");
              getRandomMoves(exercises[muscle]).forEach(move => {
                const li = document.createElement("li");
                li.textContent = move;
                list.appendChild(li);
              });
              dayDiv.appendChild(list);
            });

            planDiv.appendChild(dayDiv);
          }
        }

        function downloadTXT() {
          let text = "WEEKLY WORKOUT PLAN\n";
          text += "====================\n\n";

          for (const [day, groups] of Object.entries(schedule)) {
            text += `${day}\n`;
            text += "-".repeat(day.length) + "\n";

            groups.forEach(muscle => {
              text += `  [${muscle}]\n`;
              const moves = getRandomMoves(exercises[muscle]);
              moves.forEach(move => {
                text += `    • ${move}\n`;
              });
              text += "\n";
            });
            text += "\n";
          }

          const blob = new Blob([text], { type: "text/plain" });
          const url = URL.createObjectURL(blob);

          const a = document.createElement("a");
          a.href = url;
          a.download = "workout-plan.txt";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        }


        // Betöltéskor generálás
        generatePlan();
    </script>
</body>
</html>
