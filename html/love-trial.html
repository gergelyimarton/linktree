<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Trial</title>
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../CSS/love-trial.css">
  <link rel="stylesheet" href="../CSS/language-switcher.css">
  <style>
    .language-switcher { --lang-accent: #d63384; }
  </style>
</head>
<body>
  <div class="floating-hearts">
    <span class="heart heart-1">â¤ï¸</span>
    <span class="heart heart-2">ğŸ’–</span>
    <span class="heart heart-3">ğŸ’•</span>
    <span class="heart heart-4">ğŸ’—</span>
    <span class="heart heart-5">ğŸ’˜</span>
    <span class="heart heart-6">ğŸ’</span>
    <span class="heart heart-7">ğŸ’</span>
    <span class="heart heart-8">ğŸ’“</span>
    <span class="heart heart-9">ğŸ©·</span>
  </div>
  <div class="body-container">
  <h1>Love Trial</h1>

  <details class="info-dropdown">
    <summary>
      <span class="info-icon">â„¹ï¸</span>
      <span class="info-title">
        <span class="lang-hu">Mi ez az oldal Ã©s hogyan hasznÃ¡ld?</span>
        <span class="lang-en">What is this page and how to use it?</span>
      </span>
      <span class="arrow"></span>
    </summary>
    <div class="info-content">
      <div class="lang-hu">
        <h3>Mi ez az oldal?</h3>
        <p>A Love Trial egy szemÃ©lyes Ã©rtÃ©kelÅ‘ eszkÃ¶z, amely segÃ­t felmÃ©rni egy potenciÃ¡lis partner kompatibilitÃ¡sÃ¡t veled. Az oldal kÃ¼lÃ¶nbÃ¶zÅ‘ aspektusokat vizsgÃ¡l tÃ¶bb randevÃº sorÃ¡n, hogy Ã¡tfogÃ³ kÃ©pet kapj a kapcsolat lehetÅ‘sÃ©geirÅ‘l.</p>

        <h3>Hogyan hasznÃ¡ld?</h3>
        <ol>
          <li>Minden randevÃº utÃ¡n tÃ¶ltsd ki az adott oszlopot a <strong>FÅ‘ aspektusok</strong> tÃ¡blÃ¡zatban</li>
          <li>Az 5. randevÃº utÃ¡n add meg a <strong>Fontos aspektusok</strong> Ã¶sszesÃ­tett pontjait</li>
          <li>Ã‰rtÃ©keld az <strong>EgyÃ©b tulajdonsÃ¡gokat</strong> - ezek a "SokszÃ­nÅ±sÃ©g" pontszÃ¡mba szÃ¡mÃ­tanak</li>
          <li>Adj hozzÃ¡ <strong>EgyÃ©ni tulajdonsÃ¡gokat</strong> ha van valami egyedi szempont (+/- pontok)</li>
          <li>NÃ©zd meg az <strong>Ã–sszegzÃ©st</strong> a vÃ©gsÅ‘ illeszkedÃ©si arÃ¡nyÃ©rt</li>
        </ol>

        <h3>PontozÃ¡si rendszer</h3>
        <ul>
          <li><strong>1 pont</strong> - Gyenge / Nem jellemzÅ‘</li>
          <li><strong>2 pont</strong> - Ãtlag alatti</li>
          <li><strong>3 pont</strong> - Ãtlagos / Semleges</li>
          <li><strong>4 pont</strong> - JÃ³ / Ãtlag feletti</li>
          <li><strong>5 pont</strong> - KivÃ¡lÃ³ / Nagyon jellemzÅ‘</li>
        </ul>

        <h3>SzekciÃ³k magyarÃ¡zata</h3>
        <ul>
          <li><strong>FÅ‘ aspektusok</strong> - A legfontosabb szemÃ©lyisÃ©gjegyek, minden randevÃºn kÃ¼lÃ¶n Ã©rtÃ©kelve (1-5. randi)</li>
          <li><strong>Fontos aspektusok</strong> - TovÃ¡bbi lÃ©nyeges szempontok, egy Ã¶sszesÃ­tett pontszÃ¡mmal az 5. randi utÃ¡n</li>
          <li><strong>EgyÃ©b tulajdonsÃ¡gok</strong> - KiegÃ©szÃ­tÅ‘ jellemzÅ‘k, amelyek a "SokszÃ­nÅ±sÃ©g" Ã©rtÃ©kÃ©be szÃ¡mÃ­tanak bele</li>
          <li><strong>EgyÃ©ni tulajdonsÃ¡gok</strong> - SajÃ¡t szempontok hozzÃ¡adÃ¡sa -5 Ã©s +5 kÃ¶zÃ¶tti pontokkal</li>
        </ul>

        <h3>EredmÃ©ny Ã©rtelmezÃ©se</h3>
        <p>A vÃ©gsÅ‘ illeszkedÃ©si arÃ¡ny az elÃ©rt pontok Ã©s a maximÃ¡lisan elÃ©rhetÅ‘ pontok hÃ¡nyadosa. MinÃ©l magasabb a szÃ¡zalÃ©k, annÃ¡l jobb a kompatibilitÃ¡s. Az <strong>Ã‰rtelmezÃ©s</strong> tÃ¡blÃ¡zat segÃ­t kategorizÃ¡lni az eredmÃ©nyt.</p>
      </div>
      <div class="lang-en">
        <h3>What is this page?</h3>
        <p>Love Trial is a personal evaluation tool that helps you objectively assess a potential partner's compatibility with you. The page examines various aspects across multiple dates to give you a comprehensive picture of the relationship's possibilities.</p>

        <h3>How to use it?</h3>
        <ol>
          <li>After each date, fill in the corresponding column in the <strong>Main Aspects</strong> table</li>
          <li>After the 5th date, enter the <strong>Important Aspects</strong> combined scores</li>
          <li>Rate the <strong>Other Properties</strong> - these count toward the "Diversity" score</li>
          <li>Add <strong>Custom Properties</strong> if you have any unique criteria (+/- points)</li>
          <li>Check the <strong>Summary</strong> for your final compatibility ratio</li>
        </ol>

        <h3>Scoring system</h3>
        <ul>
          <li><strong>1 point</strong> - Weak / Not characteristic</li>
          <li><strong>2 points</strong> - Below average</li>
          <li><strong>3 points</strong> - Average / Neutral</li>
          <li><strong>4 points</strong> - Good / Above average</li>
          <li><strong>5 points</strong> - Excellent / Very characteristic</li>
        </ul>

        <h3>Sections explained</h3>
        <ul>
          <li><strong>Main Aspects</strong> - The most important personality traits, rated separately on each date (1-5)</li>
          <li><strong>Important Aspects</strong> - Additional key factors, with a combined score after the 5th date</li>
          <li><strong>Other Properties</strong> - Supplementary characteristics that count toward the "Diversity" value</li>
          <li><strong>Custom Properties</strong> - Add your own criteria with points between -5 and +5</li>
        </ul>

        <h3>Understanding the results</h3>
        <p>The final compatibility ratio is the achieved points divided by the maximum possible points. The higher the percentage, the better the compatibility. The <strong>Interpretation</strong> table helps categorize your result.</p>
      </div>
    </div>
  </details>

  <h2 data-emoji="ğŸ’"><span class="lang-hu">FÅ‘ aspektusok</span><span class="lang-en">Main Aspects</span></h2>
  <table id="mainAspects">
    <thead>
      <tr>
        <th><span class="lang-hu">FÅ‘ aspektus</span><span class="lang-en">Main Aspect</span></th>
        <th><span class="lang-hu">1. randi</span><span class="lang-en">Date 1</span></th>
        <th><span class="lang-hu">2. randi</span><span class="lang-en">Date 2</span></th>
        <th><span class="lang-hu">3. randi</span><span class="lang-en">Date 3</span></th>
        <th><span class="lang-hu">4. randi</span><span class="lang-en">Date 4</span></th>
        <th><span class="lang-hu">5. randi</span><span class="lang-en">Date 5</span></th>
        <th><span class="lang-hu">PontszÃ¡m</span><span class="lang-en">Score</span></th>
      </tr>
    </thead>
    <tbody>
      <tr><td><span class="lang-hu">ğŸŒ¿ SpontaneitÃ¡s</span><span class="lang-en">ğŸŒ¿ Spontaneity</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ§  Intelligencia / KreativitÃ¡s</span><span class="lang-en">ğŸ§  Intelligence / Creativity</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ¤ EgyÃ¼ttmÅ±kÃ¶dÃ©s</span><span class="lang-en">ğŸ¤ Cooperation</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ§˜â€â™€ï¸ KomfortzÃ³na rugalmassÃ¡ga</span><span class="lang-en">ğŸ§˜â€â™€ï¸ Comfort zone flexibility</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ”¥ KitartÃ¡s / StresszkezelÃ©s</span><span class="lang-en">ğŸ”¥ Perseverance / Stress management</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ’¡ Ã–nreflexiÃ³</span><span class="lang-en">ğŸ’¡ Self-reflection</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ’¬ Ã‰rzelmi intelligencia / SpiritualitÃ¡s</span><span class="lang-en">ğŸ’¬ Emotional intelligence / Spirituality</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
      <tr><td><span class="lang-hu">ğŸ˜Š Hangulatom</span><span class="lang-en">ğŸ˜Š My mood</span></td><td data-label="1."><select></select></td><td data-label="2."><select></select></td><td data-label="3."><select></select></td><td data-label="4."><select></select></td><td data-label="5."><select></select></td><td class="score">0</td></tr>
    </tbody>
  </table>

  <h2 data-emoji="â­"><span class="lang-hu">Fontos aspektusok</span><span class="lang-en">Important Aspects</span></h2>
  <table id="importantAspects">
    <thead>
      <tr><th><span class="lang-hu">Aspektus</span><span class="lang-en">Aspect</span></th><th><span class="lang-hu">Ã–sszesÃ­tett pont az 5. randi utÃ¡n</span><span class="lang-en">Combined score after 5th date</span></th></tr>
    </thead>
    <tbody>
      <tr><td><span class="lang-hu">ğŸ­ Humor</span><span class="lang-en">ğŸ­ Humor</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ§² Fizikai vonzalom</span><span class="lang-en">ğŸ§² Physical attraction</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ§© KapcsolÃ³dÃ¡si kÃ¶nnyedsÃ©g</span><span class="lang-en">ğŸ§© Ease of connection</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ‘• Ã–ltÃ¶zkÃ¶dÃ©s</span><span class="lang-en">ğŸ‘• Style / Clothing</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ§ Zenei Ã­zlÃ©s</span><span class="lang-en">ğŸ§ Musical taste</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ§¼ HigiÃ©nia</span><span class="lang-en">ğŸ§¼ Hygiene</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸ«¦ SzexualitÃ¡s</span><span class="lang-en">ğŸ«¦ Sexuality</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ğŸŒˆ SokszÃ­nÅ±sÃ©g (EgyÃ©b tulajdonsÃ¡gok)</span><span class="lang-en">ğŸŒˆ Diversity (Other properties)</span></td><td id="diversityTotal">0</td></tr>
    </tbody>
  </table>

  <h2 data-emoji="ğŸŒŸ"><span class="lang-hu">EgyÃ©b tulajdonsÃ¡gok</span><span class="lang-en">Other Properties</span></h2>
  <table id="otherProps">
    <thead><tr><th><span class="lang-hu">TulajdonsÃ¡g</span><span class="lang-en">Property</span></th><th><span class="lang-hu">Pont</span><span class="lang-en">Score</span></th></tr></thead>
    <tbody>
      <tr><td><span class="lang-hu">AmbÃ­ciÃ³zussÃ¡g / SzenvedÃ©lyessÃ©g</span><span class="lang-en">Ambition / Passion</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">AutentikussÃ¡g</span><span class="lang-en">Authenticity</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">BÃ¡torsÃ¡g</span><span class="lang-en">Courage</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">BÃ¶lcsessÃ©g</span><span class="lang-en">Wisdom</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">CsalÃ¡d-kÃ¶zpontÃºsÃ¡g</span><span class="lang-en">Family-oriented</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">EnergikussÃ¡g</span><span class="lang-en">Energy</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">KalandvÃ¡gyÃ¡s / KihÃ­vÃ¡skedvelÃ©s</span><span class="lang-en">Adventure-seeking</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">KedvessÃ©g / SzelÃ­dsÃ©g</span><span class="lang-en">Kindness / Gentleness</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">NyugodtsÃ¡g</span><span class="lang-en">Calmness</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">Ã–nÃ¡llÃ³sÃ¡g</span><span class="lang-en">Independence</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">ÅszintesÃ©g / HÅ±sÃ©gessÃ©g</span><span class="lang-en">Honesty / Loyalty</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">SzerÃ©nysÃ©g</span><span class="lang-en">Modesty</span></td><td><select></select></td></tr>
      <tr><td><span class="lang-hu">UdvariassÃ¡g</span><span class="lang-en">Courtesy</span></td><td><select></select></td></tr>
      <tr><td><strong><span class="lang-hu">TulajdonsÃ¡gok Ã¶sszesÃ­tett pontszÃ¡ma</span><span class="lang-en">Total properties score</span></strong></td><td id="otherPropsTotal">0</td></tr>
    </tbody>
  </table>

  <h2 data-emoji="âœ¨"><span class="lang-hu">EgyÃ©ni tulajdonsÃ¡gok</span><span class="lang-en">Custom Properties</span></h2>
  <table id="customProps">
    <thead><tr><th><span class="lang-hu">TulajdonsÃ¡g neve</span><span class="lang-en">Property name</span></th><th><span class="lang-hu">Pont (+/-)</span><span class="lang-en">Score (+/-)</span></th></tr></thead>
    <tbody>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><input type="text" class="custom-name" data-placeholder-hu="TulajdonsÃ¡g neve..." data-placeholder-en="Property name..." placeholder="TulajdonsÃ¡g neve..."></td><td><input type="number" class="custom-score" value="0" min="-5" max="5"></td></tr>
      <tr><td><strong><span class="lang-hu">PontszÃ¡m Ã¶sszesen</span><span class="lang-en">Total score</span></strong></td><td id="customPropsTotal">0</td></tr>
    </tbody>
  </table>

  <h2 data-emoji="ğŸ“Š"><span class="lang-hu">Ã–sszegzÃ©s</span><span class="lang-en">Summary</span></h2>
  <table id="summary">
    <tbody>
      <tr><td><span class="lang-hu">Ã‰rtÃ©kelt mezÅ‘k szÃ¡ma</span><span class="lang-en">Fields evaluated</span></td><td id="filledCount">0 db</td></tr>
      <tr><td><span class="lang-hu">ElÃ©rhetÅ‘ max pontszÃ¡m</span><span class="lang-en">Maximum possible score</span></td><td id="maxScore">0 pont</td></tr>
      <tr><td><span class="lang-hu">ElÃ©rt pontszÃ¡m</span><span class="lang-en">Achieved score</span></td><td id="achievedScore">0 pont</td></tr>
      <tr><td><span class="lang-hu">IlleszkedÃ©si arÃ¡ny</span><span class="lang-en">Compatibility ratio</span></td><td id="fitRatio">0,00%</td></tr>
    </tbody>
  </table>

  <h2 data-emoji="ğŸ“–"><span class="lang-hu">Ã‰rtelmezÃ©s</span><span class="lang-en">Interpretation</span></h2>
  <table>
    <tbody>
      <tr><td>90â€“100%</td><td>ğŸŸ©  <span class="lang-hu">KivÃ©teles illeszkedÃ©s</span><span class="lang-en">Exceptional compatibility</span></td></tr>
      <tr><td>70â€“89%</td><td>ğŸŸ¦  <span class="lang-hu">ErÅ‘s kompatibilitÃ¡s</span><span class="lang-en">Strong compatibility</span></td></tr>
      <tr><td>40â€“69%</td><td>ğŸŸ¨  <span class="lang-hu">RÃ©szleges kompatibilitÃ¡s</span><span class="lang-en">Partial compatibility</span></td></tr>
      <tr><td>20â€“39%</td><td>ğŸŸ§  <span class="lang-hu">FigyelmeztetÅ‘ zÃ³na</span><span class="lang-en">Warning zone</span></td></tr>
      <tr><td>0â€“19%</td><td>ğŸŸ¥  <span class="lang-hu">Alacsony illeszkedÃ©s</span><span class="lang-en">Low compatibility</span></td></tr>
    </tbody>
  </table>

  <button class="btn" onclick="downloadJSON()"><span class="lang-hu">EredmÃ©ny letÃ¶ltÃ©se (JSON)</span><span class="lang-en">Download results (JSON)</span></button>
  <input type="file" id="jsonUpload" accept="application/json" class="btn" />

  <a href="projects.html">
    <button class="back-button" data-hu="Vissza" data-en="Go back">Vissza</button>
  </a>

  <footer>
    <span class="lang-hu">Ez egy statikus HTML oldal. Az adatok lenyÃ­lÃ³ listÃ¡kbÃ³l vÃ¡laszthatÃ³k. A letÃ¶ltÃ¶tt JSON tartalmazza az aktuÃ¡lis Ã¡llapotot, amit kÃ©sÅ‘bb vissza lehet tÃ¶lteni.</span>
    <span class="lang-en">This is a static HTML page. Data can be selected from dropdown lists. The downloaded JSON contains the current state, which can be loaded later.</span>
  </footer>
  
  
  









  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // 1. FeltÃ¶ltjÃ¼k az Ã¶sszes selectet 1â€“5 opciÃ³kkal (+ Ã¼res)
      document.querySelectorAll('select').forEach(sel => {
        sel.innerHTML = '<option value="">-</option>' +
          Array.from({length:5}, (_,i)=>`<option value="${i+1}">${i+1}</option>`).join('');

        sel.addEventListener('change', updateAll);
      });

      // 2. MainAspects utolsÃ³ oszlop lÃ©trehozÃ¡sa (ha mÃ©g nincs span)
      document.querySelectorAll('#mainAspects tbody tr').forEach(tr=>{
        const lastTd = tr.querySelector('td.score');
        if(!lastTd) {
          const tds = tr.querySelectorAll('td');
          tds[tds.length-1].innerHTML = '<span class="score">0</span>';
        }
      });

      // 3. Custom properties event listeners
      document.querySelectorAll('#customProps .custom-score').forEach(input => {
        input.addEventListener('input', updateAll);
      });

      updateAll(); // indulÃ¡skor is frissÃ­t
    });
    











    function updateAll() {
  // ğŸ”¹ 1. FrissÃ­tjÃ¼k mainAspects pontszÃ¡m oszlopait
  document.querySelectorAll('#mainAspects tbody tr').forEach(tr=>{
    const selects = Array.from(tr.querySelectorAll('select')).slice(0,5);
    const scoreSpan = tr.querySelector('.score') || tr.querySelector('td:last-child');
    const sum = selects.reduce((acc, s) => acc + Number(s.value || 0), 0);
    if(scoreSpan) scoreSpan.textContent = sum;
  });

  // ğŸ”¹ 2. Ã–sszesÃ­tett Ã©rtÃ©kek csak mainAspects + importantAspects
  let totalSum = 0;
  let filled = 0;

  document.querySelectorAll('#mainAspects select, #importantAspects select').forEach(sel => {
    const v = parseInt(sel.value,10);
    if(!isNaN(v)){
      totalSum += v;
      filled++;
    }
  });

  // ğŸ”¹ 3. Ã–sszesÃ­tett pont az "EgyÃ©b tulajdonsÃ¡gok" tÃ¡blÃ¡zatbÃ³l
  let otherSum = 0;
  document.querySelectorAll('#otherProps tbody tr:not(:last-child) select').forEach(sel=>{
    const v = parseInt(sel.value,10);
    if(!isNaN(v)) otherSum += v;
  });
  document.getElementById('otherPropsTotal').textContent = otherSum;

  // ğŸ”¹ 4. DiversityScore az otherPropsTotal alapjÃ¡n
  const totalForDiversity = parseInt(document.getElementById('otherPropsTotal').textContent,10) || 0;
  let diversityScore = 0;
  if(totalForDiversity <= 10) diversityScore = 0;
  else if(totalForDiversity <= 20) diversityScore = 1;
  else if(totalForDiversity <= 30) diversityScore = 2;
  else if(totalForDiversity <= 40) diversityScore = 3;
  else if(totalForDiversity <= 50) diversityScore = 4;
  else if(totalForDiversity > 60) diversityScore = 5;

  document.getElementById('diversityTotal').textContent = diversityScore;

  // ğŸ”¹ 5. HozzÃ¡adjuk a diversityScore-t a totalSum-hoz
  totalSum += diversityScore;

  // ğŸ”¹ 6. Custom properties Ã¶sszesÃ­tÃ©se
  let customSum = 0;
  document.querySelectorAll('#customProps .custom-score').forEach(input => {
    const v = parseInt(input.value, 10);
    if (!isNaN(v)) customSum += v;
  });
  document.getElementById('customPropsTotal').textContent = customSum;

  // ğŸ”¹ 7. HozzÃ¡adjuk a custom pontokat a totalSum-hoz
  totalSum += customSum;

  // Ha van kitÃ¶ltÃ¶tt mezÅ‘, hozzÃ¡adjuk a diversityScore-t is
  const totalFilled = filled > 0 ? filled + 1 : 0; // +1 a diversityScore-Ã©rt, de csak ha van kitÃ¶ltÃ¶tt mezÅ‘
  const maxScore = filled > 0 ? filled * 5 + 5 : 0; // +5 a diversityScore max, de csak ha van kitÃ¶ltÃ¶tt mezÅ‘
  const fitRatio = maxScore > 0 ? ((totalSum / maxScore) * 100).toFixed(2) : '0.00';

  document.getElementById('filledCount').textContent = totalFilled + ' db';
  document.getElementById('maxScore').textContent = maxScore + ' pont';
  document.getElementById('achievedScore').textContent = totalSum + ' pont';
  document.getElementById('fitRatio').textContent = fitRatio + '%';
}

// minden select vÃ¡ltozÃ¡skor frissÃ­tÃ¼nk
document.querySelectorAll('select').forEach(sel=>{
  sel.addEventListener('change', updateAll);
});

// custom score inputok vÃ¡ltozÃ¡skor frissÃ­tÃ¼nk
document.querySelectorAll('#customProps .custom-score').forEach(input => {
  input.addEventListener('input', updateAll);
  input.addEventListener('change', updateAll);
});

// indulÃ¡skor is frissÃ­tjÃ¼k
updateAll();










    document.querySelectorAll('#otherProps select').forEach(sel => {
      sel.innerHTML = '<option value="">-</option>' + 
                    Array.from({length:5}, (_,i)=>`<option value="${i+1}">${i+1}</option>`).join('');
      sel.addEventListener('change', updateOtherPropsTotal);
    });

    function updateOtherPropsTotal() {
      let sum = 0;
      document.querySelectorAll('#otherProps tbody tr:not(:last-child) select').forEach(sel => {
      const v = parseInt(sel.value,10);
      if(!isNaN(v)) sum += v;
      });
      document.getElementById('otherPropsTotal').textContent = sum;
    }

    // indulÃ¡skor is frissÃ­tjÃ¼k
    updateOtherPropsTotal();
















    // ğŸ”¹ JSON letÃ¶ltÃ©s Ã©s feltÃ¶ltÃ©s
    function tableToArray(tableId){
      const rows = document.querySelectorAll(`#${tableId} tbody tr`);
      return Array.from(rows).map(r=> Array.from(r.querySelectorAll('td')).map(td=>{
        const sel = td.querySelector('select');
        return sel ? sel.value : td.innerText.trim();
      }));
    }
    
    function getCustomProps() {
      const rows = document.querySelectorAll('#customProps tbody tr:not(:last-child)');
      return Array.from(rows).map(tr => {
        const nameInput = tr.querySelector('.custom-name');
        const scoreInput = tr.querySelector('.custom-score');
        return {
          name: nameInput ? nameInput.value : '',
          score: scoreInput ? parseInt(scoreInput.value, 10) || 0 : 0
        };
      });
    }

    function downloadJSON(){
      const data = {
        mainAspects: tableToArray('mainAspects'),
        importantAspects: tableToArray('importantAspects'),
        otherProps: tableToArray('otherProps'),
        customProps: getCustomProps()
      };
      const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href=url; a.download='love-trial.json'; a.click();
      URL.revokeObjectURL(url);
    }
    
    document.getElementById('jsonUpload').addEventListener('change', function(){
      const file = this.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        try{
          const data = JSON.parse(e.target.result);
          function fillTable(tableId, arr){
            const rows = document.querySelectorAll(`#${tableId} tbody tr`);
            arr.forEach((row,i)=>{
              if(rows[i]){
                const cells = rows[i].querySelectorAll('td');
                row.forEach((val,j)=>{
                  if(cells[j]){
                    const sel = cells[j].querySelector('select');
                    if(sel){ sel.value = val; } else { cells[j].innerText = val; }
                  }
                });
              }
            });
          }
          fillTable('mainAspects', data.mainAspects||[]);
          fillTable('importantAspects', data.importantAspects||[]);
          fillTable('otherProps', data.otherProps||[]);

          // Load custom properties
          if (data.customProps && Array.isArray(data.customProps)) {
            const rows = document.querySelectorAll('#customProps tbody tr:not(:last-child)');
            data.customProps.forEach((item, i) => {
              if (rows[i]) {
                const nameInput = rows[i].querySelector('.custom-name');
                const scoreInput = rows[i].querySelector('.custom-score');
                if (nameInput) nameInput.value = item.name || '';
                if (scoreInput) scoreInput.value = item.score || 0;
              }
            });
          }

          updateAll(); // frissÃ­tjÃ¼k a szÃ¡mÃ­tÃ¡sokat a betÃ¶ltÃ¶tt adatokkal
        }catch(err){
          const lang = document.documentElement.getAttribute('data-lang') || 'hu';
          alert(lang === 'en' ? 'Invalid JSON file.' : 'HibÃ¡s JSON fÃ¡jl.');
        }
      };
      reader.readAsText(file);
    });
  </script>
  <script src="../JS/language-switcher.js"></script>
  <script>
    // Update placeholders when language changes
    function updatePlaceholders() {
      const lang = document.documentElement.getAttribute('data-lang') || 'hu';
      document.querySelectorAll('[data-placeholder-hu][data-placeholder-en]').forEach(input => {
        input.placeholder = input.getAttribute(`data-placeholder-${lang}`);
      });
    }
    // Initial update
    updatePlaceholders();
    // Watch for language changes
    const placeholderObserver = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.attributeName === 'data-lang') {
          updatePlaceholders();
        }
      });
    });
    placeholderObserver.observe(document.documentElement, { attributes: true });
  </script>
</div>
</body>

</html>
